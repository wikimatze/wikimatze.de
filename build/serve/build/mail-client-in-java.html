<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mail Client in Java</title>
  <meta name="author" content="Matthias Günther" >
  
  <meta name="description" content="Writings, and talks by Matthias Günther. Günther works at MyHammer, loves painting Warhammer figures, and enjoys making cakes.">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <link href="http://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">

  <link href="/css/bootstrap.css" rel="stylesheet" media="screen, projection">
  <link href="/css/bootstrap-responsive.css" rel="stylesheet" media="screen, projection">
  <link href="/css/base.css" rel="stylesheet" media="screen, projection">
  <link href="/css/pygments.css" rel="stylesheet" media="screen, projection">

  <link href="http://feeds.feedburner.com/guenther" rel="alternate" type="application/rss+xml" title="RSS feed of Matthias Günther">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body>
  <div class="container">
    <div class="row-fluid">
      <div class="span12">
        <div class="span5">
          <span id="title">
            <a href="/index.html">wikimatze</a>
          </span>
        </div>
        <div class="span7">
          <nav>
            <ul class="nav nav-pills">
              <li><a href="http://feeds.feedburner.com/guenther" target="_blank"><img src="/images/rss.png" alt="RSS"></a></li>
              <li><a href="https://twitter.com/wikimatze" target="_blank"><img src="/images/twitter.png" alt="Twitter"></a></li>
              <li><a href="https://github.com/matthias-guenther" target="_blank"><img src="/images/github.png" alt="GitHub"></a></li>
              <li><a href="/about.html">About</a></li>
              <li><a href="/talks.html">Talks</a></li>
              <li><a href="/projects.html">Projects</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
<!--
    <div id="ribbon">
      <a href="https://github.com/matthias-guenther" target="_blank">Fork me on Github</a>
    </div>
    -->

    <div class="row-fluid">
      <div class="span10 offset1">
        
        <header><h1>Mail Client in Java</h1></header>
        
        <article class="post">
  <header>
    <div class="author">
      Posted on <time datetime="2011-10-22" pubdate>2011-10-22</time>
    </div>
    <div class="right">
  <a href="https://twitter.com/share" class="twitter-share-button" data-count="none" data-via="wikimatze">Tweet</a>
    <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
  <a href="http://twitter.com/wikimatze" class="twitter-follow-button" data-show-count="false">Follow wikimatze</a>
    <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
</div>


    <div class="clearer"></div>
  </header>
  <div class="clearer"></div>
  <blockquote>
 <p>Most people spend more time and energy going around problems than trying to solve them.</p>
 <strong>Henry Ford</strong>
</blockquote>


<p>During the summer term 2007 we had the task to create a <a href="http://www.mozilla.org/en-US/thunderbird">Thunderbird</a> like
mail client <a href="http://www.java.com/de/download/manual.jsp">Java</a>.  The GUI should be created either with
<a href="http://java.sun.com/docs/books/tutorial/uiswing/">Swing</a> or
<a href="http://java.sun.com/javase/6/docs/technotes/guides/awt/">AWT</a>. Beside the graphical implementation, we had to check and
study the functionality of <a href="http://en.wikipedia.org/wiki/Post_Office_Protocol">POP3</a> and
<a href="http://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol">SMTP</a>. Only the correct numbers in this protocols are
important because they stands for each transactions if it was a success or a failure.  A first attempt this
functionality was done with plain old <em>sockets</em> to get a feeling how POP3 and SMTP works.</p>

<p>After we a running function the basic functions of the mail client, we had to implement some extra-functions like
attachments (mime parts in an email) or the handling of emails with drag-and-drop. I implemented this big project with
the help of <a href="http://netbeans.org/">NetBeans</a>.</p>

<h2>Images</h2>

<p>By means of the following images I will describe the basic layout of my email client.</p>

<p><a href="" title="title" class="fancybox"><img src="small_image" class="center" alt="title"/></a></p>

<div class="caption"></div>


<p><a href="http://farm8.staticflickr.com/7228/7257429146_a8e69185f7_b.jpg" title="The basic surface when the program starts.  If you press on the upper task bar a drag-and-drop menu will open." class="fancybox"><img src="http://farm8.staticflickr.com/7228/7257429146_a8e69185f7_z.jpg" class="center" alt="The basic surface when the program starts.  If you press on the upper task bar a drag-and-drop menu will open."/></a></p>

<div class="caption">The basic surface when the program starts. If you press on the upper task bar a drag-and-drop menu will open.</div>


<p><a href="http://farm8.staticflickr.com/7071/7257429010_90c8c37b00_z.jpg" title="In this window you can add data of a new account." class="fancybox"><img src="http://farm8.staticflickr.com/7071/7257429010_90c8c37b00.jpg" class="center" alt="mail_client_2.jpg"/></a></p>

<div class="caption">In this window you can add data of a new account.</div>


<p><a href="http://farm9.staticflickr.com/8022/7257428772_387fce2670_b.jpg" title="Get the mail of an already existing account." class="fancybox"><img src="http://farm9.staticflickr.com/8022/7257428772_387fce2670.jpg" class="center" alt="mail_client_3.jpg"/></a></p>

<div class="caption">Get the mail of an already existing account.</div>


<p><a href="http://farm8.staticflickr.com/7243/7257428880_ebf4f8e24c_z.jpg" title="The window where to write a new email." class="fancybox"><img src="http://farm8.staticflickr.com/7243/7257428880_ebf4f8e24c.jpg" class="center" alt="mail_client_4.jpg"/></a></p>

<div class="caption">The window where to write a new email.</div>


<p><a href="http://farm8.staticflickr.com/7088/7257428050_f021ac4ffc.jpg" title="Drag-and-Drop window to manage emails." class="fancybox"><img src="http://farm8.staticflickr.com/7088/7257428050_f021ac4ffc_n.jpg" class="center" alt="mail_client_5.jpg"/></a></p>

<div class="caption">Drag-and-Drop window to manage emails.</div>


<h2>Installation for Netbeans</h2>

<ul>
<li>get the <a href="https://github.com/matthias-guenther/mailclient">sources from github</a></li>
<li>extract the <em>javamail-1.4.zip</em> => this package contains a Java library for handling emails</li>
<li>create a new project under NetBeans and copy all files of the <em>Mail Client</em> directory in the <em>src</em> directory of you
NetBeans project</li>
<li>then you have to insert the <em>mail.jar</em> file in your project in the following way:

<ul>
<li>click right on Libraries in the near of the view of your NetBeans project and chose <em>Add JAR</em></li>
<li>navigate to <em>javamail-1.4</em> folder and select the <em>mail.jar</em></li>
<li>when you now select the files <em>GUIMailsend.java</em> and <em>GUIMailsget.java</em> should not show any errors</li>
</ul>
</li>
<li>now you have to adopt the paths in the file <em>GUIMain.java</em> <code>(static File f, String dir, FileReader file)</code> and
<em>GUITree</em> <code>(File driveC, File source, File ziel)</code> to your NetBeans project folder through absolute paths => I know
it&rsquo;s cumbersome but due to this date I couldn&rsquo;t do any other</li>
<li>set the <em>GuiMain.java</em> as the main file in your project and start the program</li>
<li>the standard account is <em>MG kontoinfos.kondat</em> which contains the necessary data to access my spam account (you can
guess how to change the data)</li>
<li>the directory <em>Inbox MG</em> saves all read mails of the user MG, further accounts have to be created each in an own
directory</li>
<li><em>MailApi.java</em> is not necessary for the mail client, this will just be used to check the correctness of the POP3
settings via the terminal</li>
<li>main cause of error messages:

<ul>
<li>wrong paths to your project</li>
<li>POP3 and SMTP</li>
<li><em>mail.jar</em> is not included correct in the project, but this will be shown in NetBeans</li>
</ul>
</li>
</ul>


<h2>Conclusion</h2>

<p>This project was my first big piece of software and I used all my gathered knowledge about Java. The classes are not
bug-free, manually tested, has a size over 1000 LOCs, has absolute paths, and the function are sometimes very big. In
the end it was just hacking down the software without using certain patterns or careful development with clean code. I
tested my code with <code>System.out.println</code> and I lost so much time with this stupid testing. One good thing I did: I
created comments and was able to get the program running even after two year.</p>

<p>Nowadays programming methodologies like <a href="http://en.wikipedia.org/wiki/Agile_software_development">Agile</a>,
Rapid-Prototyping or Model-Driven development together with the framework Rails let you develop my application with much
more less effort and is more maintainable by driving the Test-Driven way, so you can refactor your code and don&rsquo;t need
to manual test part of your basis.</p>

<p>This project shows that it is possible to develop modular software in Java but in even greater projects it is easy to
get lost in the lost in Java code if you don&rsquo;t rely on a framework.  It is even difficult to setup the project in
different IDE &ndash; today you can use <a href="http://vagrantup.com/">Vagrant</a> to create an environment which can be deployed easily
as Virtual images on different platforms.</p>

  <aside>
    You can write a comment below or <a href="http://wikimatze.wufoo.com/forms/z7x3x5/">send me an email</a>.
    <br />
    <div class="whoring">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'wikimatze'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>


  </aside>
</article>


      </div>
    </div>

    <footer>
      <nav>
        &copy; Matthias Günther
        &bull;
        <a href="/contact.html">contact</a>
        &bull;
        <a href="/follow.html">follow</a>
        &bull;
        <a href="/reading.html">books</a>
        &bull;
        <a rel="nofollow" href="/imprint.html">imprint</a>
        &bull;
        <a rel="nofollow" href="/colophon.html">colophon</a>
        &bull;
        <a rel="nofollow" href="/donate.html">surprise me</a>
        <span id="last-build">last build: 5-7-2013</span>
      </nav>
    </footer>
  </div> <!-- container-centered-->

  <!-- jQuery library -->
  <script type="text/javascript" src="/js/jquery-1.9.0.min.js"></script>

  <!-- Add fancyBox -->
  <link rel="stylesheet" href="/js/fancybox/source/jquery.fancybox.css?v=2.1.4" type="text/css" media="screen" />
  <script type="text/javascript" src="/js/fancybox/source/jquery.fancybox.pack.js?v=2.1.4"></script>

  <!-- Optionally add helpers - button, thumbnail and/or media -->
  <link rel="stylesheet" href="/js/fancybox/source/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" media="screen" />
  <script type="text/javascript" src="/js/fancybox/source/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
  <script type="text/javascript" src="/js/fancybox/source/helpers/jquery.fancybox-media.js?v=1.0.5"></script>

  <link rel="stylesheet" href="/js/fancybox/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7" type="text/css" media="screen" />
  <script type="text/javascript" src="/js/fancybox/source/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
  <script type="text/javascript">
    $(document).ready(function() {
        $(".fancybox").fancybox(
          {
          wrapCSS    : 'fancybox-custom',
          closeClick : true,

          helpers : {
            title : {
              type : 'inside'
            },
            overlay : {
              css : {
                'background-color' : '#eee'
              }
            }
          }
        });
     });
   </script>

  <!-- google Analytics -->
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2870917-2']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

</body>
</html>
